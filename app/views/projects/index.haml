%h1 Projects

.row
  .col-sm-4
    %p
      %strong Meaningful concise statement.
      = Faker::Lorem.paragraph
    %p.text-center= link_to "Add your project", new_project_path

    %hr
    = form_tag(projects_path, method: :get) do
      %div.strong{style: "padding-top: 10px;"} Filter by tag...
      %select.js-chosen{name: "tags", data: { placeholder: "Click to select a tag" }}
        %option
        - popular_project_tags(15).each do |name|
          - selected = @filters[:tags].to_s.split(", ").include?(name)
          %option{value: name, selected: selected}= name
      .text-right{style: "padding-top: 10px;"}= submit_tag "Filter", class: "btn btn-primary"

  .col-sm-8
    %table.table.table-striped{style: "width: 100%;"}
      %tr
        %th
        %th Title
        %th Tags
        %th Added date
        %th Added by
      - @projects.each do |project|
        %tr
          %td= image_tag(project.image.url(:thumb), style: "width: 30px;")
          %td
            = link_to (project.title), project_path(project)
            &mdash;
            %span.text-muted= project.subtitle
          %td.small
            - project.tag_list.each do |name|
              = link_to name, projects_path(tags: name)
              &nbsp;
          %td= print_date(project.created_at, abbreviated: true)
          %td= link_to project.owner.name, user_path(project.owner)
